# Аутентификация
Для успешной аутентификации в query каждого запроса наобходимо передавать 
дополнительно 2 параметра:

`expires` - текущий unix timestamp

`sign` - подпись, вычисляем алгоритмом sha256 с полученным ключевым словом
```hash_hmac('sha256', $expires, $secret)```

Пример GET запроса:
```/movies/preference?expires=1587300916&sign=eb8a07c49e035543fc20429627a7adb602f64463178caadfa13c7c27b526e237``` 
# Доступные методы
#### 1. Поиск названия фильма по ключевому слову
Метод: `GET` 

URL: `/movies/list/{movie_title}`

Параметры:

`page` - номер страницы пагинации, по умолчанию равно 1

Ответ:
```
   {
       "status": true,
       "movies": [
           {
               "id": 10009,
               "title": "Братец медвежонок",
               "popularity": 18.508
           }
       ]
   }
```
#### 2. Сохранение предпочтений пользователя
Метод: `POST`

URL: `/movies/preference`

Тело запроса:
```
{
	"user_id": "vlyagusha",
	"movies": [
		51,
		101,
		121
	]
}
```
где `user_id` - id полльзователя (строка), `movies` - массив целых чисел (
id фильмов)

Ответ:
```
{
    "status": true,
    "movies": [
        72,
        95,
        43,
        50,
        51,
        101,
        121
    ]
}
```
где `movies` - массив целых чисел (id фильмов, имеющихся в БД для пользователя)

#### 3. Получение рекомендаций для пользователя
Метод: `GET`

URL: `/movies/user/{userId}/recommendations`

Параметры:

`limit` - максимальное количество фильмов в выдаче

Ответ:

```
{
    "status": true,
    "recommendations": [
        {
            "id": 85,
            "title": "Индиана Джонс: В поисках утраченного ковчега"
        },
        {
            "id": 80,
            "title": "Перед закатом"
        },
        {
            "id": 2,
            "title": "Ариэль"
        },
        {
            "id": 71,
            "title": "Билли Эллиот"
        },
        {
            "id": 86,
            "title": "Элементарные частицы"
        },
        {
            "id": 83,
            "title": "Открытое море"
        }
    ]
}
```
где `recommendations` - массив
